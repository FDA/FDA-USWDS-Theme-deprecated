{"version":3,"sources":["src/patterns/components/usa-skipnav/skipnav.js"],"names":["receptor","require","once","behavior","PREFIX","prefix","CLICK","LINK","MAINCONTENT","setTabindex","id","getAttribute","target","document","getElementById","slice","style","outline","setAttribute","focus","addEventListener","module","exports"],"mappings":"AAAA;;;;AACA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAP,CAAoBC,IAArC;;AACA,IAAMC,QAAQ,GAAGF,OAAO,CAAC,yBAAD,CAAxB;;eAC2BA,OAAO,CAAC,iBAAD,C;IAAlBG,M,YAARC,M;;AAER,IAAMC,KAAK,GAAG,OAAd;AACA,IAAMC,IAAI,cAAOH,MAAP,qCAAsCA,MAAtC,yCAAV;AACA,IAAMI,WAAW,GAAG,cAApB;;AAEA,SAASC,WAAT,GAAuB;AACrB;AACA;AACA,MAAMC,EAAE,GAAG,KAAKC,YAAL,CAAkB,MAAlB,CAAX;AACA,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CACbJ,EAAE,KAAK,GAAP,GAAaF,WAAb,GAA2BE,EAAE,CAACK,KAAH,CAAS,CAAT,CADd,CAAf;;AAIA,MAAIH,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACI,KAAP,CAAaC,OAAb,GAAuB,GAAvB;AACAL,IAAAA,MAAM,CAACM,YAAP,CAAoB,UAApB,EAAgC,CAAhC;AACAN,IAAAA,MAAM,CAACO,KAAP;AACAP,IAAAA,MAAM,CAACQ,gBAAP,CACE,MADF,EAEEpB,QAAQ,CAACE,IAAT,CAAc,YAAM;AAClBU,MAAAA,MAAM,CAACM,YAAP,CAAoB,UAApB,EAAgC,CAAC,CAAjC;AACD,KAFD,CAFF;AAMD,GAVD,MAWK,CACH;AACD;AACF;;AAEDG,MAAM,CAACC,OAAP,GAAiBnB,QAAQ,qBACtBG,KADsB,sBAEpBC,IAFoB,EAEbE,WAFa,GAAzB","sourcesContent":["'use strict';\r\nconst receptor = require('receptor').once;\r\nconst behavior = require('../../../utils/behavior');\r\nconst { prefix: PREFIX } = require('../../../config');\r\n\r\nconst CLICK = 'click';\r\nconst LINK = `.${PREFIX}-skipnav[href^=\"#\"], .${PREFIX}-footer__return-to-top [href^=\"#\"]`;\r\nconst MAINCONTENT = 'main-content';\r\n\r\nfunction setTabindex() {\r\n  // NB: we know because of the selector we're delegating to below that the\r\n  // href already begins with '#'\r\n  const id = this.getAttribute('href');\r\n  const target = document.getElementById(\r\n    id === '#' ? MAINCONTENT : id.slice(1)\r\n  );\r\n\r\n  if (target) {\r\n    target.style.outline = '0';\r\n    target.setAttribute('tabindex', 0);\r\n    target.focus();\r\n    target.addEventListener(\r\n      'blur',\r\n      receptor.once(() => {\r\n        target.setAttribute('tabindex', -1);\r\n      })\r\n    );\r\n  }\r\n  else {\r\n    // throw an error?\r\n  }\r\n}\r\n\r\nmodule.exports = behavior({\r\n  [CLICK]: {\r\n    [LINK]: setTabindex\r\n  }\r\n});\r\n"],"file":"skipnav.js"}